<div class="d-block px-5 header-mobile">
  <div
    class="d-flex align-items-center justify-content-between top-part w-100 mb-3"
  >
    <mat-icon
      class="material-icons-outlined cursor-pointer text-klm-primary"
      (click)="openOffCanvas(content)"
    >
      menu
    </mat-icon>
    <a class="flex-grow-1 text-center" routerLink="">
      <img
        alt="بازرگانی آساسنسور و پله برقی کلمان"
        class="keleman-logo"
        src="assets/media/logo/keleman-logo.webp"
        loading="lazy"
    /></a>

    @if (isLoggedIn && userProfileInfo;){
    <div ngbDropdown class="d-inline-block" [autoClose]="'true'">
      <mat-icon
        ngbDropdownToggle
        class="cursor-pointer material-icons-outlined text-klm-primary"
        >account_circle</mat-icon
      >

      <div
        ngbDropdownMenu
        aria-labelledby="dropdownBasic1"
        class="rounded-3 shadow-lg border-0"
      >
        <keleman-user-dropdown-menu
          [userInfo]="userProfileInfo"
          [userCredit]="userCreditInfo"
        ></keleman-user-dropdown-menu>
      </div>
    </div>
    } @else {
    <a routerLink="/register">
      <span class="d-flex align-items-center text-klm-primary">
        <mat-icon class="mx-1">login</mat-icon>
        ورود
      </span>
    </a>
    }

    <a [routerLink]="['checkout']">
      <mat-icon
        class="material-icons-outlined text-klm-primary"
        aria-hidden="false"
        [matBadge]="basketCount"
        matBadgeSize="small"
        matBadgePosition="above before"
        >shopping_cart</mat-icon
      >
    </a>
  </div>
  <keleman-search-bar class="flex-grow-1 w-100"></keleman-search-bar>
  <div class="py-3">
    <keleman-product-category-items
      [parentId]="null"
      (onItemClick)="navigateToPage($event)"
    ></keleman-product-category-items>
  </div>
</div>

<ng-template #content let-offcanvas>
  <keleman-off-canvas-menu
    (close)="offcanvas.close('cross click')"
  ></keleman-off-canvas-menu>
</ng-template>
