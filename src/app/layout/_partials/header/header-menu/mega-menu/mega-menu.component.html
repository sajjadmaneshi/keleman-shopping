<div class="d-flex h-100 mega-menu-body" id="mega-menu" #megamenu>
  <ul class="mega-menu-side-bar__menu nil-space">
    <li
      *ngFor="let rootCategory of productCategories; let i = index"
      (mouseenter)="onHover(i + 1)"
      [class.active]="i === 0"
      (click)="onClick({ c1: rootCategory.url })"
      appHoverClass
      class="p-2"
    >
      <span class="material-icons"> {{ iconNames[i] }} </span>
      <span> {{ rootCategory.titleFa }}</span>
    </li>
  </ul>
  <div class="mega-menu-items-menu flex-grow-1">
    <div
      *ngFor="let rootCategory of productCategories; let i = index"
      [ngClass]="activeIndex === i + 1 ? 'd-flex flex-column' : 'd-none'"
      class="container-fluid mega-menu-items-menu__inner p-3"
    >
      <span
        class="text-klm-primary all-products cursor-pointer"
        (click)="onClick({ c1: rootCategory.url })"
      >
        همه محصولات
        <mat-icon>chevron_left</mat-icon>
      </span>

      <ul class="column">
        <ng-template
          ngFor
          let-child
          [ngForOf]="rootCategory.children"
          let-i="index"
        >
          <li
            class="head"
            (click)="onClick({ c1: rootCategory.url, c2: child.url })"
          >
            <span> {{ child.titleFa }}</span>
          </li>
          <li
            class="p-1"
            *ngFor="let childChild of child.children"
            (click)="
              onClick({
                c1: rootCategory.url,
                c2: child.url,
                c3: childChild.url
              })
            "
          >
            <span> {{ childChild.titleFa }}</span>
          </li>
        </ng-template>
      </ul>
    </div>
  </div>
</div>
