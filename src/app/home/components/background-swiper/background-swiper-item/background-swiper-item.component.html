<div class="card amazing-offer-item mb-0 bg-white">
  <div
    class="card-body d-flex flex-column justify-content-between position-relative align-items-center"
  >
    <keleman-text-with-icon
      *ngIf="product.rate > 0"
      class="rate align-self-end rate"
      [text]="product.rate.toString()!"
      [iconName]="'star'"
      [iconClass]="'text-warning'"
    ></keleman-text-with-icon>
    <div class="symbol symbol-25 symbol-lg-30 mb-3">
      <img
        loadingLazy
        emptyImage
        class="amazing-offer-item__image"
        [src]="product.thumbnailImage!"
        [alt]="product.name!"
      />
    </div>

    <a
      class="fs-6 align-self-md-center flex-grow-1 text-center"
      [routerLink]="['/products/detail/' + product.customUrl]"
    >
      {{ product.name! }}
    </a>

    <ng-container
      *ngIf="product.price > 0; then price; else call"
    ></ng-container>
    <ng-template #price>
      <keleman-price
        [value]="product.priceAfterDiscount!"
        [off]="false"
        [size]="'h6'"
        class="mb-md-3"
      ></keleman-price>
    </ng-template>
    <ng-template #call>
      <h5 class="mb-md-3 text-klm-primary fw-bold">تماس بگیرید</h5>
    </ng-template>

    <ng-template [ngIf]="product.discount > 0">
      <keleman-price
        [value]="product.price"
        [off]="true"
        [discount]="product.discount"
        [color]="'dark'"
        [size]="'h6'"
      ></keleman-price>
    </ng-template>
  </div>
</div>
